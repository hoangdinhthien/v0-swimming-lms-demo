'Trong add-class-form.tsx, logic hiện tại dựa vào fetchSlotDetail để lấy busyInstructorIds từ slotDetail.schedules[] (các schedules đã có cho slot + date cụ thể). Bạn có muốn giữ logic này và chỉ cải thiện bằng cách thêm validation chuyên môn (categories/age_types từ instructor specialists) không?
Hay cần kiểm tra thêm instructor có lịch trùng trong toàn bộ ngày (không chỉ slot cụ thể), hoặc validate với course của classroom?
Đối với pool availability, đã implement fetchAvailablePools rồi, có cần cải thiện gì thêm không?'
===> Ý TƯỞNG BAN ĐẦU CỦA TÔI LÀ NHƯ THẾ NÀY: 
- case: thêm thủ công lớp học vào LỊCH (ở tab 'Thêm lớp học' trong drawer)
    . ví dụ 1: đầu tiên sẽ cho chọn lớp học trước -> sau đó đến chọn slot + chạy api fetchSlotDetail (để biết xem trong ngày đó và slot đó có huấn luyện viên nào bận hay không? rồi hiện lên UI huấn luyện viên nào bận và huấn luyện viên nào rảnh) -> sau đó hiện mục chọn hồ bơi (sử dụng api fetchAvailablePools) -> check xem lớp học đó đã có huấn luyện viên hay chưa? nếu chưa có huấn luyện viên thì cho chọn select hlv mà đang availale
    . ví dụ 2: đầu tiên sẽ cho chọn lớp học trước -> sau đó đến chọn slot + chạy api fetchSlotDetail (để biết xem trong ngày đó và slot đó có huấn luyện viên nào bận hay không? rồi hiện lên UI huấn luyện viên nào bận và huấn luyện viên nào rảnh) -> sau đó hiện mục chọn hồ bơi (sử dụng api fetchAvailablePools) -> check xem lớp học đó đã có huấn luyện viên hay chưa? nếu có huấn luyện viên rồi thì vẫn cho người dùng option thay đổi huấn luyện viên bằng cách chọn select hlv mà đang availale
- bây giờ tôi muốn bạn xem cái ý tưởng của tôi ở trên và kết hợp với việc tham khảo logic validate chuyên môn của instructor ở step 2 trong create-classes-batch-modal.tsx và logic validate lịch của instructor + hồ bơi ở step 2 trong schedule-preview-modal.tsx và kết hợp lại thành 1 logic hợp lý cho phần 'Thêm lớp học' và 'Chỉnh sửa lớp học' trong drawer của lịch. và giải thích cho tôi các thao tác mà bạn muốn làm nó sẽ hoạt động như thế nào (gọi api gì? validate logic như thế nào?)



- logic tính instructor trống lịch/không trống lịch đang SAI, chưa có check validate (có thể tái sử dụng step 2 trong modal tạo lớp) 
    . tham khảo logic validate chuyên môn của instructor ở step 2 trong create-classes-batch-modal.tsx và logic validate lịch của instructor + hồ bơi ở step 2 trong schedule-preview-modal.tsx và kết hợp lại thành 1 logic hợp lý cho phần 'Thêm lớp học' và 'Chỉnh sửa lớp học' trong drawer của lịch.
    . phần quan trọng trong drawer này là hồ bơi này có available hay không? và lịch dạy của huấn luyện viên này có bị trùng hay không để xếp lịch cho lớp học/để thêm lớp học này vào lịch của ngày hôm đó!!



=====

tôi cần bạn sửa lại phần này:
- sử button 'Tự động xếp lịch học' thành 'Xếp lịch cho lớp học'
- ở trang 'manager/class/[id]' (trang class detail), modal 'Tự động xếp lịch học cho lớp' không còn cần nữa.
- bây giờ, tôi muốn tái sử dụng lại modal (schedule-preview-modal.tsx) để thay thế cho modal 'Tự động xếp lịch học cho lớp'
- khi manager/staff click vào button 'Xếp lịch cho lớp học' thì sẽ hiện lên modal schedule-preview-modal.tsx
- lưu ý: chỉ thay đổi logic cho phần xếp lịch thôi, còn các logic còn lại như chỉnh sửa thông tin lớp học & add member & remove member, etc. thì vẫn như cũ
- lưu ý: ở step 1 trong modal schedule-preview-modal.tsx CHỈ SẼ HIỆN LÊN mỗi lớp đó thôi
- CÓ GÌ THẮC MẮC THÌ CỨ HỎI TÔI